---
# tasks file for debian-base

- name: install common packages
  tags:
    - packages
  apt: >
    state=installed
    name={{ item }}
  with_items:
    - bash-completion
    - ca-certificates
    - curl
    - debconf-utils
    - etckeeper
    - git
    - htop
    - less
    - lsb-base
    - lsb-release
    - psmisc
    - net-tools
    - screen
    - sudo
    - telnet-ssl
    - vim

- name: install common packages (non Proxmox-VE hosts)
  tags:
    - packages
  apt: >
    state=installed
    name={{ item }}
  with_items:
    - busybox-static
  when: "ansible_kernel.find('pve') < 1"

- name: install Linux kernel packages (amd64; non Proxmox-VE hosts)
  tags:
    - packages
  apt: >
    state=installed
    name=linux-image-amd64
  when: "ansible_architecture == 'x86_64' and ansible_kernel.find('pve') < 1"

- name: install Linux kernel packages (i386; non Proxmox-VE hosts)
  tags:
    - packages
  apt: >
    state=installed
    name=linux-image-686-pae
  when: "ansible_architecture == 'i386' and ansible_kernel.find('pve') < 1"
